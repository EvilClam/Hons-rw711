\documentclass[a4paper, 12pt]{article}
\date{12 February 2014}
\author{Shaun Schreiber \\ 16715128}
\title{Tutorial 2}
\usepackage{float}
\usepackage{tikz}
\usepackage{graphicx}
\usetikzlibrary{arrows, automata}
\begin{document}
\maketitle
\section*{Question 4a}
\begin{figure}[H]
\minipage{0.32\textwidth}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=3cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (p) {p};
  \node[main node] (pq) [right of =p] {p,q};
  \node[main node] (pqr) [below of =pq] {p,q,r};
  \node[main node] (pr) [right of =pq]{p,r};
  \node[main node, accepting] (pqrs) [right of =pqr]{p,q,r,s};
  \node[main node, accepting] (pqs) [right of =pr] {p,q,s};
  \node[main node, accepting] (prs) [right of =pqrs] {p,r,s};
  \node[main node, accepting] (ps) [right of =prs] {p,s};
  \path[every node/.style={font=\sffamily\small}]
     (p)    edge[loop above] node [above]{1}(p)
	    edge node [above]{0}(pq)
     (pq)   edge node[above] {1}(pr)
            edge node [right] {0}(pqr)
     (pr)   edge[bend right] node [above]{1}(p)
	    edge node [above]{0}(pqs)
     (pqr)  edge node [right]{1}(pr)
	    edge node [above]{0}(pqrs)
     (pqrs) edge node [above]{1}(prs)
	    edge [loop below] node [below]{0}(pqrs)
     (pqs)  edge [bend left] node [left] {1} (prs)
            edge  node [right]{0}(pqrs)
     (prs)  edge node [above]{1}(ps)
	    edge node [left]{0}(pqs)
     (ps)   edge [loop right] node [right]{1}(ps)
	    edge [bend right] node [right]{0}(pqs);       
  \end{tikzpicture}
\endminipage\hfill
\end{figure}
\begin{table}[h!t]
\centering
\begin{tabular}{c | c c}
& 0 & 1 \\
\hline
\{$p$\} & \{$p, q$\} & \{$p$\} \\
\{$p, q$\} & \{$p, q, r$\} & \{$p, r$\} \\
\{$p, q, r$\} & \{$p, q, r, s$\} & \{$p, r$\} \\
\{$p, r$\} & \{$p, q, s$\} & \{$p$\} \\
\{$p, q, r, s$\} & \{$p, q, r, s$\} & \{$p, r, s$\} \\
\{$p, q, s$\} & \{$p, q, r, s$\} & \{$p, r, s$\} \\
\{$p, r, s$\} & \{$p, q, s$\} & \{$p, s$\} \\
\{$p, s$\} & \{$p, q, s$\} & \{$p, s$\} \\
\end{tabular}
\end{table}\section*{Question 4b}
\begin{figure}[H]
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=3cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (q0q1) {q0, q1};
  \node[main node] (q0q1q2) [right of =q0q1] {q0, q1, q2};
  \node[main node] (q1q2) [below of =q0q1] {q1, q2};
  \path[every node/.style={font=\sffamily\small}]
     (q0q1)   edge node [right]{1}(q1q2)
              edge node [above]{0}(q0q1q2)
     (q0q1q2) edge [loop above] node [above] {0}(q0q1q2)
	      edge [bend right] node [right] {1}(q1q2)
     (q1q2)   edge [loop below] node [below] {1}(q1q2)
	      edge [bend right] node [right]{0}(q0q1q2);
  \end{tikzpicture}
\end{figure}
\begin{table}[h!t]
\centering
\begin{tabular}{c | c c}
& 0 & 1 \\
\hline
\{$q0, q1$\} & \{$q0, q1, q2$\} & \{$q1, q2$\} \\
\{$q0, q1, q2$\} & \{$q0, q1, q2$\} & \{$q1, q2$\} \\
\{$q1, q2$\} & \{$q0, q1, q2$\} & \{$q1, q2$\} \\
\end{tabular}
\end{table}
\section*{Question 5a}
\subsection*{a}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (q0) {q0};
  \node[main node, accepting] (q1) [right of =q0] {q1};
  \path[every node/.style={font=\sffamily\small}]
     (q0) edge node [above]{a}(q1);
  \end{tikzpicture}
\subsection*{b}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (q0) {q0};
  \node[main node, accepting] (q1) [right of =q0] {q1};
  \path[every node/.style={font=\sffamily\small}]
     (q0) edge node [above]{b}(q1);
  \end{tikzpicture}
\subsection*{ab}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (q0) {q0};
  \node[main node] (q1) [right of =q0] {q1};
  \node[main node] (q2) [right of =q1] {q2};
  \node[main node, accepting] (q3) [right of =q2] {q3};
  \path[every node/.style={font=\sffamily\small}]
     (q0) edge node [above]{a}(q1)
     (q1) edge node [above]{$\epsilon$}(q2)
     (q2) edge node [above]{b}(q3);
  \end{tikzpicture}
\subsection*{ab*}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial,accepting] (S) {S};
  \node[main node] (q0) [right of =s ] {q0};
  \node[main node] (q1) [right of =q0] {q1};
  \node[main node] (q2) [right of =q1] {q2};
  \node[main node, accepting] (q3) [right of =q2] {q3};
  \path[every node/.style={font=\sffamily\small}]
     (S)  edge node [above]{$\epsilon$} (q0)
     (q0) edge node [above]{a}(q1)
     (q1) edge node [above]{$\epsilon$}(q2)
     (q2) edge node [above]{b}(q3)
     (q3) edge [bend left] node [above] {$\epsilon$}(q0);
  \end{tikzpicture}
\subsection*{aa}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (q0) {q0};
  \node[main node] (q1) [right of =q0] {q1};
  \node[main node] (q2) [right of =q1] {q2};
  \node[main node, accepting] (q3) [right of =q2] {q3};
  \path[every node/.style={font=\sffamily\small}]
     (q0) edge node [above]{a}(q1)
     (q1) edge node [above]{$\epsilon$}(q2)
     (q2) edge node [above]{a}(q3);
  \end{tikzpicture}
\subsection*{bba}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (q0) {q0};
  \node[main node] (q1) [right of =q0] {q1};
  \node[main node] (q2) [right of =q1] {q2};
  \node[main node] (q3) [right of =q2] {q3};
  \node[main node] (q4) [right of =q3] {q4};
  \node[main node, accepting] (q5) [right of =q4] {q5};
  \path[every node/.style={font=\sffamily\small}]
     (q0) edge node [above]{b}(q1)
     (q1) edge node [above]{$\epsilon$}(q2)
     (q2) edge node [above]{b}(q3)
     (q3) edge node [above]{$\epsilon$}(q4)
     (q4) edge node [above]{a}(q5);
  \end{tikzpicture}
\subsection*{bba*}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initail, accepting] (S) {S};
  \node[main node] (q0) [right of =S] {q0};
  \node[main node] (q1) [right of =q0] {q1};
  \node[main node] (q2) [right of =q1] {q2};
  \node[main node] (q3) [right of =q2] {q3};
  \node[main node] (q4) [right of =q3] {q4};
  \node[main node, accepting] (q5) [right of =q4] {q5};
  \path[every node/.style={font=\sffamily\small}]
  	 (S)  edge node [above]{$\epsilon$} (q0)
     (q0) edge node [above]{b}(q1)
     (q1) edge node [above]{$\epsilon$}(q2)
     (q2) edge node [above]{b}(q3)
     (q3) edge node [above]{$\epsilon$}(q4)
     (q4) edge node [above]{a}(q5)
     (q5) edge [bend left] node [above]{$\epsilon$}(q0);
  \end{tikzpicture}
\subsection*{Final}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (S) {S};
  \node[main node]            (s1) [right of =S,above of=s]{s1};
  \node[main node, accepting] (s2) [below of=S]            {s2};
  \node[main node]            (s3) [right of =s1]          {s3};
  \node[main node]            (s4) [below of =s2]          {s4};
  \node[main node]            (a1) [right of =s3]          {a1};
  \node[main node]            (a2) [right of =a1]          {a2};
  \node[main node]            (a3) [below of =a2]          {a3};
  \node[main node]            (a4) [below of =a3]          {a4};
  \node[main node]            (a5) [below of =a4]          {a5};
  \node[main node]            (a6) [below of =a5]          {a6};
  \node[main node, accepting] (a7) [below of =a6]          {a7};
  \node[main node]            (b1) [below of =s4]          {b1};
  \node[main node]            (b2) [below of =b1]          {b2};
  \node[main node]            (b3) [below of =b2]          {b3};
  \node[main node]            (b4) [right of =b3]          {b4};
  \node[main node, accepting] (b5) [right of =b4]          {b5};
  \path[every node/.style={font=\sffamily\small}]
     (S) edge node [left] {$\epsilon$}(s1)
         edge node [left] {$\epsilon$}(s2)
     (s1)edge node [above]{$\epsilon$}(s3)
         edge node [above]{$\epsilon$}(a4) 
     (s2)edge node [left] {$\epsilon$}(s4)
     (s3)edge node [above]{a}         (a1)
     (a1)edge node [above]{$\epsilon$}(a2)
     (a2)edge node [left] {b}         (a3)
     (a3)edge node [above]{$\epsilon$}(s3)
         edge node [left] {$\epsilon$}(a4)
     (a4)edge node [left] {a}         (a5)
     (a5)edge node [left] {$\epsilon$}(a6)
     (a6)edge node [left] {a}         (a7)
     (s4)edge node [right]{b}         (b1)
     (b1)edge node [right]{$\epsilon$}(b2)
     (b2)edge node [right]{b}         (b3)
     (b3)edge node [above]{$\epsilon$}(b4)
     (b4)edge node [above]{a}         (b5)
     (b5)edge node [left]{$\epsilon$}(s2);
  \end{tikzpicture}
  \section*{Question 5b}
  \subsection*{a}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (q0) {q0};
  \node[main node, accepting] (q1) [right of =q0] {q1};
  \path[every node/.style={font=\sffamily\small}]
     (q0) edge node [above]{a}(q1);
  \end{tikzpicture}
\subsection*{b}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (q0) {q0};
  \node[main node, accepting] (q1) [right of =q0] {q1};
  \path[every node/.style={font=\sffamily\small}]
     (q0) edge node [above]{b}(q1);
  \end{tikzpicture}
  \subsection*{a $\cup$ b}
  \begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (S) {S};
  \node[main node] (q0) [right of =S, above of =S]{q0};
  \node[main node] (q1) [right of =S, below of =S]{q1};
  \node[main node, accepting] (q2) [right of =q1] {q2};
  \node[main node, accepting] (q3) [right of =q0] {q3};
  \path[every node/.style={font=\sffamily\small}]
     (S) edge node [above]{$\epsilon$}(q0)
         edge node [below]{$\epsilon$}(q1)
     (q0)edge node [above]{a}(q3)
     (q1)edge node [below]{b}(q2);
  \end{tikzpicture}
  \subsection*{(a $\cup$ b)*}
  \begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial, accepting] (S) {S};
  \node[main node] (S1) [right of =S]{S1};
  \node[main node] (q0) [right of =S1, above of =S1]{q0};
  \node[main node] (q1) [right of =S1, below of =S1]{q1};
  \node[main node, accepting] (q2) [right of =q1] {q2};
  \node[main node, accepting] (q3) [right of =q0] {q3};
  \path[every node/.style={font=\sffamily\small}]
  	 (S) edge node [above]{$\epsilon$}(S1)
     (S1) edge node [above]{$\epsilon$}(q0)
         edge node [below]{$\epsilon$}(q1)
     (q0)edge node [above]{a}(q3)
     (q1)edge node [below]{b}(q2)
     (q2)edge node [above]{$\epsilon$}(S1)
     (q3)edge node [below]{$\epsilon$}(S1);
  \end{tikzpicture}
  \subsection*{b(a $\cup$ bb)}
  \begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (b1){b1};
  \node[main node] (b2)[right of= b1]{b2};
  \node[main node](S)[right of= b2] {S};
  \node[main node] (q0) [right of =S, above of =S]{q0};
  \node[main node] (q1) [right of =S, below of =S]{q1};
  \node[main node] (q2) [right of =q1] {q2};
  \node[main node, accepting] (q3) [right of =q0] {q3};
  \node[main node] (q4) [right of =q2] {q4};
  \node[main node, accepting] (q5) [right of =q4] {q5};
  \path[every node/.style={font=\sffamily\small}]
  	 (b1)edge node [above]{b}(b2)
     (b2)edge node [above]{$\epsilon$}(S)
     (S) edge node [above]{$\epsilon$}(q0)
         edge node [below]{$\epsilon$}(q1)
     (q0)edge node [above]{a}(q3)
     (q1)edge node [below]{b}(q2)
     (q2)edge node [below]{$\epsilon$}(q4)
     (q4)edge node [below]{b}(q5);
  \end{tikzpicture}
  \subsection*{Final}
  \begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node (temp);
  \node[main node, initial,accepting] (S)[right of =temp,right of =temp,right of =temp]{S};
  \node[main node] (s1)[below of= S]{s1};
  \node[main node] (s2)[below of= s1]{s2};
  \node[main node] (a1)[right of=s2, below of=s2]{a1};
  \node[main node] (b1)[left of =s2, below of=s2]{b1};
  \node[main node] (a2)[below of=a1]{a2};
  \node[main node] (b2)[below of=b1]{b2};
  \node[main node] (b3)[below of=b2, right of=b2]{b3};
  \node[main node] (b4)[below of=b3]{b4};
  \node[main node] (s3)[below of=b4]{s3};
  \node[main node] (a3)[right of=s3, below of=s3]{a3};
  \node[main node] (b5)[left of =s3, below of=s3]{b5};
  \node[main node,accepting] (a4)[below of=a3]{a4};
  \node[main node] (b6)[below of=b5]{b6};
  \node[main node] (b7)[below of=b6]{b7};
  \node[main node,accepting] (b8)[below of=b7]{b8};
  \path[every node/.style={font=\sffamily\small}]
    (S) edge node [right]{$\epsilon$}(s1)
    (s1)edge node [right]{$\epsilon$}(s2)
    edge [bend right=89]node [left]{$\epsilon$}(b3)
    (s2)edge node [right]{$\epsilon$}(a1)
        edge node [right]{$\epsilon$}(b1)
    (a1)edge node [right]{a}(a2)
    (b1)edge node [right]{b}(b2)
    (a2)edge node [right]{$\epsilon$}(b3)
        edge node [right]{$\epsilon$}(s2)
    (b2)edge node [right]{$\epsilon$}(b3)
        edge node [right]{$\epsilon$}(s2)
    (b3)edge node [right]{b}(b4)
    (b4)edge node [right]{$\epsilon$}(s3)
    (s3)edge node [right]{$\epsilon$}(a3)
        edge node [right]{$\epsilon$}(b5)
    (a3)edge node [right]{a}(a4)
    (a4)edge [bend right=60]node [right]{$\epsilon$}(s1)
    (b5)edge node [right]{b}(b6)
    (b6)edge node [right]{$\epsilon$}(b7)
    (b7)edge node [right]{b}(b8)
    (b8)edge [bend left=80] node [left]{$\epsilon$}(s1);
\end{tikzpicture}
\section*{Question 5c}
\subsection*{\emptyset}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (q0) {q0};
  \end{tikzpicture}
 \subsection*{\emptyset^{*}}
  \begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial, accepting] (q0) {q0};
  \node[main node] (q1) [right of =q0] {q1};
  \path[every node/.style={font=\sffamily\small}]
     (q0) edge node [above]{$\epsilon$}(q1);
  \end{tikzpicture}
\section*{Question 6a}
\subsection*{\emptyset}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (q0) {q0};
  \end{tikzpicture}
 \subsection*{\emptyset^{*}}
  \begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial, accepting] (q0) {q0};
  \node[main node] (q1) [right of =q0] {q1};
  \path[every node/.style={font=\sffamily\small}]
     (q0) edge node [above]{$\epsilon$}(q1);
  \end{tikzpicture}
\section*{Question 6b}
\newpage
\section*{Question 7}
\begin{itemize}
\item[\textbf{Step 1}] cross out the row of q7 because it is the only state that has out going arrows. Which means it can not be equavalent to any other state.
\item[\textbf{Step 2}] Mark all the (non final state, final state) pairs.

\end{itemize}
\begin{table}[h!t]
\begin{tabular}{c|c|c}
\hline
   tFunction& result & change\\
   %zero
 \hline
 $\delta$(\{q1, q0\}, 0) & \{q0, q1\} &  no mark \\
 $\delta$(\{q1, q0\}, 1) & \{q0, q2\} &  no mark \\
 \hline
 $\delta$(\{q2, q0\}, 0) & \{q3, q1\} &  mark \\
 $\delta$(\{q2, q0\}, 1) & \{q1, q0\} &   \\
 \hline
 $\delta$(\{q4, q0\}, 0) & \{q3, q1\} &  mark \\
 $\delta$(\{q4, q0\}, 1) & \{q0, q1\} &   \\
 \hline
 $\delta$(\{q5, q0\}, 0) & \{q4, q0\} &  mark \\
 $\delta$(\{q5, q0\}, 1) & \{q6, q1\} &  \\
 \hline
 $\delta$(\{q6, q0\}, 0) & \{q0, q1\} &  no mark \\
 $\delta$(\{q6, q0\}, 1) & \{q0, q1\} &  no mark \\
 
 %one
 \hline
 $\delta$(\{q2, q1\}, 0) & \{q3, q0\} &  mark \\
 $\delta$(\{q2, q1\}, 1) & \{q1, q2\} &  \\
 \hline
 $\delta$(\{q4, q1\}, 0) & \{q3, q0\} &  mark \\
 $\delta$(\{q4, q1\}, 1) & \{q5, q2\} &   \\
 \hline
 $\delta$(\{q5, q1\}, 0) & \{q4, q2\} & no mark \\
 $\delta$(\{q5, q1\}, 1) & \{q6, q0\} & no mark \\
 \hline
 $\delta$(\{q6, q1\}, 0) & \{q5, q0\} &  mark \\
 $\delta$(\{q6, q1\}, 1) & \{q6, q2\} &  \\
 
 %two
 \hline
 $\delta$(\{q4, q2\}, 0) & \{q3, q3\} & no mark \\
 $\delta$(\{q4, q2\}, 1) & \{q5, q1\} & no mark   \\
 \hline
 $\delta$(\{q5, q2\}, 0) & \{q6, q3\} & mark \\
 $\delta$(\{q5, q2\}, 1) & \{q4, q1\} & \\
 \hline
 $\delta$(\{q6, q2\}, 0) & \{q6, q1\} &  mark \\
 $\delta$(\{q6, q2\}, 1) & \{q5, q3\} &  \\
 
 %four
 \hline
 $\delta$(\{q5, q4\}, 0) & \{q4, q5\} & mark \\
 $\delta$(\{q5, q4\}, 1) & \{q6, q3\} & \\
 \hline
 $\delta$(\{q6, q4\}, 0) & \{q5, q3\} &  mark \\
 $\delta$(\{q6, q4\}, 1) & \{q6, q5\} &  \\
 \hline
 $\delta$(\{q1, q0\}, 0) & \{q0, q1\} &  no mark \\
 $\delta$(\{q1, q0\}, 1) & \{q0, q2\} &  mark \\
 \hline
\end{tabular}
\end{table}
\begin{table}[h!t]
\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
\hline
    & q0 & q1 & q2 & q3 & q4 & q5 & q6 &q7\\
 \hline
 q0 & -  & -  & -  & -  & -  & -  & -  & -\\
 \hline
 q1 & x  & -  & -  & -  & -  & -  & -  & -\\
 \hline
 q2 & x  & x  & -  & -  & -  & -  & -  & -\\
 \hline
 q3 & x  & x  & x  & -  & -  & -  & -  & -\\
 \hline
 q4 & x  & x  &    & x  & -  & -  & -  & -\\
 \hline
 q5 & x  &    & x  & x  & x  & -  & -  & -\\
 \hline
 q6 &    & x  & x  & x  & x  & x  & -  & -\\
 \hline
 q7 & x  & x  & x  & x  & x  & x  & x  & -\\
 \hline
\end{tabular}
\end{table}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
  thick,main node/.style={circle,fill=blue!20,draw,font=\sffamily\Large\bfseries}]
  \node[main node, initial] (q1){q1};
  \node[main node] (q2)[right of= q1]{q2};
  \node[main node] (q3)[right of= q2]{q3};
  \node[main node, accepting] (q4)[below of=q2]{q4};
  \node[main node] (q5)[below of=q1]{q5};
  \path[every node/.style={font=\sffamily\small}]
    (q1) edge[loop above] node [above]{1}(q1)
         edge [bend left] node [above] {0}(q2)
    (q2) edge [bend left] node [above] {0}(q1)
         edge [bend left] node [above] {1}(q3)
    (q3) edge [bend left] node [above] {1}(q2)
    		 edge             node [right] {0}(q4)
    (q4) edge             node [below] {1}(q1)
         edge [loop below]node [above] {0}(q4)
    (q5) edge             node [right] {0}(q1)
         edge             node [above] {1}(q4);
\end{tikzpicture}
\end{document}
